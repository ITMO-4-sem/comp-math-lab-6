(()=>{"use strict";var e,t={160:(e,t,r)=>{class n{constructor(e,t){this.x=e,this.y=t}}class s{constructor(e,t){if(e>t)throw new Error('"start" must not be greater then the "end".');this.start=e,this.end=t,this.length=t-e}}class a{constructor(e,t){if(e.length<t.length)throw new Error("xValues row length must be not less then the yValues rows one");if(0===t.length)throw new Error("yValues row need to contain least 1 element.");this.xValues=e,this.yValues=t}clone(){return new a(Array.from(this.xValues),Array.from(this.yValues))}size(){return this.xValues.length}getXValues(){return this.xValues}getYValues(){return this.yValues}}class i{calc(e,t,r,n,s){if(s&&s<1)throw new Error('"initialStepNum" must be greater than zero.');const a=void 0!==s?s:4;let i,u=t.length/a,l=this.calcWIthFixedStep(r,e,t,u);do{u/=2;const n=this.calcWIthFixedStep(r,e,t,u);i=this.getMaxBias(l.getYValues(),n.getYValues(),r.getRequiredNumOfPredefinedYValues()),l=n}while(!this.isAccuracySufficient(n,i));return{step:u,bias:i,table:l}}calcWIthFixedStep(e,t,r,n){const s=new Array,i=new Array;for(let e=r.start;e<r.end+1e-6;e+=n)s.push(e);for(let r=0;r<e.getRequiredNumOfPredefinedYValues();r++)i.push(t.func(s[r]));return e.calc(new a(s,i),t)}isAccuracySufficient(e,t){return e>t}getMaxBias(e,t,r){if(2*e.length-1!=t.length)throw new Error('"yValuesH" length must be 2 times minus 1 shorter than "yValuesHalfH" length.');let n=t[1]-e[0];for(let s=0;s<e.length;s++)n=Math.max(n,this.calcRungeBias(e[s],t[2*s],r));return n}calcRungeBias(e,t,r){if(r<=0)throw new Error('"p" must be a positive number');return Math.abs(e-t)/(Math.pow(2,r)-1)}}class u{static isValidNumber(e){return e!=1/0&&e!=-1/0&&!isNaN(e)}}class l extends class{constructor(e){this.constant=this.calcConstant(e)}}{getRepresentation(){return"y + (1 + x) * y^2"}func(e){return Math.exp(e)/(this.constant-e*Math.exp(e))}funcDerivative(e,t){return t+(1+e)*t*t}calcConstant(e){const t=e.x,r=e.y,n=(Math.exp(t)+r*t*Math.exp(t))/r;if(!u.isValidNumber(n))throw new Error("Illegal constant value. Choose another primaryCondition");return n}}class c{}class o extends c{getRequiredNumOfPredefinedYValues(){return 1}}class h extends o{getAccuracyOrder(){return 1}calc(e,t){const r=e.getXValues(),n=e.getYValues(),s=r[1]-r[0];for(let a=n.length;a<e.size();a++)if(n[a]=n[a-1]+s*t.funcDerivative(r[a-1],n[a-1]),!u.isValidNumber(n[a]))throw new Error(`Invalid "yi" value appeared during calculations:' +\n                    ' "${n[a]}".`);return e}}class f extends o{getAccuracyOrder(){return 2}calc(e,t){const r=e.getXValues(),n=e.getYValues(),s=r[1]-r[0];for(let a=n.length;a<e.size();a++)if(n[a]=n[a-1]+s/2*(t.funcDerivative(r[a-1],n[a-1])+t.funcDerivative(r[a],n[a-1]+s*t.funcDerivative(r[a-1],n[a-1]))),!u.isValidNumber(n[a]))throw new Error(`Invalid "yi" value appeared during calculations:' +\n                    ' "${n[a]}".`);return e}}class d extends o{getAccuracyOrder(){return 4}calc(e,t){const r=e.getXValues(),n=e.getYValues(),s=r[1]-r[0];for(let a=n.length;a<e.size();a++){const e=r[a-1],i=n[a-1],l=s*t.funcDerivative(e,i),c=s*t.funcDerivative(e+s/2,i+l/2),o=s*t.funcDerivative(e+s/2,i+c/2),h=s*t.funcDerivative(e+s,i+o);if(n[a]=i+1/6*(l+2*c+2*o+h),!u.isValidNumber(n[a]))throw new Error(`Invalid "yi" value appeared during calculations:' +\n                    ' "${n[a]}".`)}return e}}class y extends c{getRequiredNumOfPredefinedYValues(){return 4}}class v extends y{constructor(){super(...arguments),this.xValues=[],this.yValues=[]}getAccuracyOrder(){return 4}calc(e,t){if(e.getYValues().length<4)throw new Error("yValues row must contain at least 3 values");this.xValues=e.getXValues(),this.yValues=e.getYValues(),this.func=t;const r=this.xValues[1]-this.xValues[0];for(let t=this.yValues.length;t<e.size();t++)if(this.yValues[t]=this.yValues[t-1]+r*this.func.funcDerivative(this.xValues[t-1],this.yValues[t-1])+r*r*1/2*this.calcFirstFiniteDifference(t-1)+5*Math.pow(r,3)/12*this.calcSecondFiniteDifference(t-1)+3*Math.pow(r,4)/8*this.calcThirdFiniteDifference(t-1),!u.isValidNumber(this.yValues[t]))throw new Error(`Invalid "yi" value appeared during calculations:' +\n                    ' "${this.yValues[t]}".`);return e}calcFirstFiniteDifference(e){const t=e;if(!this.func)throw new Error("this.func undefined.");return this.func.funcDerivative(this.xValues[t],this.yValues[t])-this.func.funcDerivative(this.xValues[t-1],this.yValues[t-1])}calcSecondFiniteDifference(e){const t=e;if(!this.func)throw new Error("this.func undefined.");return this.func.funcDerivative(this.xValues[t],this.yValues[t])-2*this.func.funcDerivative(this.xValues[t-1],this.yValues[t-1])+this.func.funcDerivative(this.xValues[t-2],this.yValues[t-2])}calcThirdFiniteDifference(e){const t=e;if(!this.func)throw new Error("this.func undefined.");return this.func.funcDerivative(this.xValues[t],this.yValues[t])-3*this.func.funcDerivative(this.xValues[t-1],this.yValues[t-1])+3*this.func.funcDerivative(this.xValues[t-2],this.yValues[t-2])-this.func.funcDerivative(this.xValues[t-3],this.yValues[t-3])}}var V=r(863),w=r.n(V);const p=document.querySelector(".primary-condition-x"),g=document.querySelector(".primary-condition-y"),m=document.querySelector(".interval-start"),x=document.querySelector(".interval-end"),b=document.querySelector(".accuracy"),D=document.querySelector(".form"),S=document.querySelector(".euler-method-step"),O=document.querySelector(".euler-method-bias"),A=document.querySelector(".adams-method-step"),E=document.querySelector(".adams-method-bias");if(!(p||g||m||x||b||D))throw new Error("Some element is null");let F=new Array,q=new Array,Y=new Array,M=new Array,N=new Array,I=new Array;D.addEventListener("submit",(e=>{e.preventDefault(),function(){try{const r=new i,a=new l(new n(parseFloat(p.value),parseFloat(g.value))),u=new s(parseFloat(m.value),parseFloat(x.value)),c=parseFloat(b.value),o=new h,y=(new f,new d,new v),V=r.calc(a,u,o,c,5),D=r.calc(a,u,y,c,5);F=V.table.getXValues(),q=V.table.getYValues(),Y=D.table.getXValues(),M=D.table.getYValues();const T=.2;N=new Array,I=new Array;for(let e=u.start-T;e<u.end+T;e+=V.step)N.push(e),I.push(a.func(e));const P={title:"Решение ОДУ",xaxis:{title:{text:"x"}},yaxis:{title:{text:"F(x)"}}},R={scrollZoom:!0,displayModeBar:!1,responsive:!0},X=[{x:F,y:q,mode:"lines",type:"scatter",name:"Метод Эйлера."},{x:Y,y:M,mode:"lines",type:"scatter",name:"Метод Адамса."},{x:N,y:I,mode:"lines",type:"scatter",name:"Точное решение"}];w().newPlot(document.querySelector(".plot"),X,P,R),t=V.step,S.innerText=t,e=V.bias,O.innerText=e,function(e){A.innerText=e}(D.step),function(e){E.innerText=e}(D.bias)}catch(e){alert(e)}var e,t}()}))}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,s,a)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,s,a]=e[c],u=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(u=!1,a<i&&(i=a));u&&(e.splice(c--,1),t=s())}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,s,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var s,a,[i,u,l]=r,c=0;for(s in u)n.o(u,s)&&(n.m[s]=u[s]);if(l)var o=l(n);for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[i[c]]=0;return n.O(o)},r=this.webpackChunk=this.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=n.O(void 0,[863],(()=>n(160)));s=n.O(s)})();